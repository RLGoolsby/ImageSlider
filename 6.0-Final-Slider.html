<style>
    .slider-wrapper {
        position: relative;
        box-sizing: border-box;
        overflow: visible;
        height: auto;
        width: 100%;
        margin: 7% auto;
    }
    
    .visually-hidden {
        position: absolute;
        width: 1px;
        height: 1px;
        margin: -1px;
        clip: rect(0, 0, 0, 0);
        overflow: hidden;
        white-space: nowrap;
        border: 0;
    }
    
    #slider {
        position: relative;
        width: 280px;
        height: 280px;
        margin: 2% auto;
        perspective: 1600px;
        transition: transform 400ms ease;
        transform-style: preserve-3d;
    }
    
    #slider .slider,
    #slider .slider-controls li {
        position: absolute;
        width: 100%;
        height: 100%;
        max-height: 100vh;
        left: 0;
        top: 0;
        color: white;
        font-size: 25px;
        font-weight: bold;
        cursor: pointer;
        display: flex;
        align-items: stretch;
        justify-content: space-evenly;
        text-align: center;
        flex-direction: row;
        flex-wrap: wrap;
        align-content: flex-end;
    }
    /** previous/pause/play/next buttons **/
    
    #slider #slider-controls {
        position: relative;
        list-style-type: none;
        cursor: pointer;
        top: 100%;
        left: -50%;
        padding: 0;
        width: 100%;
        transform: translateY(-50%);
        transform: translateX(50%);
        z-index: 2000;
        display: flex;
        justify-content: space-evenly;
        background-color: transparent;
    }
    
    #previous-button,
    #next-button,
    #pause,
    #play {
        display: inline-block;
        padding: 0.5em 1em;
        border: 1px solid #000;
        background-color: #000;
        color: #fff;
    }
    
    #previous-button:hover,
    #next-button:hover,
    #pause:hover,
    #play:hover {
        background-color: #000;
        opacity: 0.7;
    }
    
    .slider {
        transition: 0.6s;
    }
    
    input[type="radio"] {
        position: relative;
        top: 90%;
        left: 50%;
        z-index: 2000;
        width: 18px;
        height: 18px;
        margin: 0 10px 0 0;
        opacity: 0.8;
        transform: translateX(-73px);
        cursor: pointer;
    }
    
    input[type="radio"]::before {
        content: "";
        opacity: 1;
        display: grid;
        border-radius: 100%;
        opacity: 1;
        z-index: 5000;
        width: 22px;
        height: 22px;
        margin: auto;
        border-radius: 100%;
        transform: scale(0);
        background-color: #fff;
        transition: 120ms transform ease-in-out;
        box-shadow: inset 23px 23px rgb(0, 0, 0, 1);
    }
    
    input[type="radio"]:checked::before {
        transform: scale(1);
        border: 0.5px solid #fff;
    }
    
    input[type="radio"]:checked {
        opacity: 1;
    }
    
    #play {
        display: none;
    }
    
    .slider .slide-text {
        position: relative;
        width: 100%;
        height: auto;
        left: 0;
        top: 6em;
        color: #000;
        background: #fff;
        font-weight: 800;
        z-index: 2000;
        font-weight: bold;
        box-shadow: 0 6px 10px rgba(0, 0, 0, 0.3), 0 2px 2px rgba(0, 0, 0, 0.2);
    }
    
    .slide-number-container {
        position: absolute;
        top: .5em;
        left: .5em;
        z-index: 6;
        font-weight: 500;
        font-size: .6em;
        display: flex;
        gap: 0.1em;
        align-items: center;
        color: #000;
    }
    
    .linear {
        background: linear-gradient(to right, transparent 1%, rgb(255, 255, 255, .5) 50%, transparent 100%, rgb(255, 255, 255, .5) 99%);
    }
    
    .slide-number-container hr {
        width: .8em;
        transform: rotate(130deg);
        border-color: rgb(111 109 109);
        border-width: 0.5px;
    }
    /* .numbertext {
    border-radius: 100%; 
    font-family: inherit;
    color: rgb(0, 1, 43);
    font-size: 16px;
    font-weight: 600;
    padding: 1px 8px;
    position: absolute;
    top: 3%;
    left: 1%;
    background: rgba(252, 250, 250, 0.7);
    z-index: 3000;
  } */
    
    img.eachimg {
        width: 100%;
        height: 100%;
    }
    /* Active Slide */
    
    #s1:checked~#slide1,
    #s2:checked~#slide2,
    #s3:checked~#slide3,
    #s4:checked~#slide4,
    #s5:checked~#slide5 {
        opacity: 1;
        box-shadow: 0 13px 26px rgba(0, 0, 0, 0.3), 0 12px 6px rgba(0, 0, 0, 0.2);
        transform: translate3d(0%, 0, 0px);
    }
    /* Next Slide */
    
    #s1:checked~#slide2,
    #s2:checked~#slide3,
    #s3:checked~#slide4,
    #s4:checked~#slide5,
    #s5:checked~#slide1 {
        opacity: 0.7;
        box-shadow: 0 6px 10px rgba(0, 0, 0, 0.3), 0 2px 2px rgba(0, 0, 0, 0.2);
        transform: translate3d(105%, 0, -150px) scale(.9);
        filter: brightness(50%);
    }
    /* Next to Next Slide */
    
    #s1:checked~#slide3,
    #s2:checked~#slide4,
    #s3:checked~#slide5,
    #s4:checked~#slide1,
    #s5:checked~#slide2 {
        opacity: 0.3;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.4);
        transform: translate3d(213%, 0, -350px) scale(.8);
        filter: brightness(50%);
    }
    /* Previous to Previous Slide */
    
    #s1:checked~#slide4,
    #s2:checked~#slide5,
    #s3:checked~#slide1,
    #s4:checked~#slide2,
    #s5:checked~#slide3 {
        opacity: 0.3;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.4);
        transform: translate3d(-213%, 0, -350px) scale(0.8);
        filter: brightness(50%);
    }
    /* Previous Slide */
    
    #s1:checked~#slide5,
    #s2:checked~#slide1,
    #s3:checked~#slide2,
    #s4:checked~#slide3,
    #s5:checked~#slide4 {
        opacity: 0.7;
        box-shadow: 0 6px 10px rgba(0, 0, 0, 0.3), 0 2px 2px rgba(0, 0, 0, 0.2);
        transform: translate3d(-105%, 0, -150px) scale(.9);
        filter: brightness(50%);
    }
    
    @media screen and (max-width:1177px) {
        #slider {
            perspective: 1290px;
        }
        .slider-wrapper {
            margin: 13% auto;
        }
    }
</style>

<div class="slider-wrapper" aria-labelledby="slider-title">
    <h2 id="slider-title" class="visually-hidden"></h2>
    <section id="slider" aria-roledescription="carousel" aria-label="Fabric Image Slider">
        <input class="imgCheck" type="radio" name="slider" id="s1" aria-hidden="true">
        <input class="imgCheck" type="radio" name="slider" id="s2" aria-hidden="true">
        <input class="imgCheck" type="radio" name="slider" id="s3" aria-hidden="true" checked>
        <input class="imgCheck" type="radio" name="slider" id="s4" aria-hidden="true">
        <input class="imgCheck" type="radio" name="slider" id="s5" aria-hidden="true">

        <label for="s1" id="slide1" class="slider" tabindex="0" aria-labelledby="slide1-title">
      <h3 class="slide-text" id="slide1-title"></h3>
      <img class="eachimg" src="" alt="">
      <div class="slide-number-container linear" aria-hidden="true">
        <p class="slider-number">01</p>
        <hr>
        <p class="slider-number">05</p>
      </div>
    </label>

        <label for="s2" id="slide2" class="slider" tabindex="0" aria-labelledby="slide2-title">
      <h3 class="slide-text" id="slide2-title"></h3>
      <img class="eachimg" src="" alt="">
      <div class="slide-number-container linear" aria-hidden="true">
        <p class="slider-number">02</p>
        <hr>
        <p class="slider-number">05</p>
      </div>
    </label>

        <label for="s3" id="slide3" class="slider" tabindex="0" aria-labelledby="slide3-title">
      <h3 class="slide-text" id="slide3-title"></h3>
      <img class="eachimg" src="" alt="">
      <div class="slide-number-container linear" aria-hidden="true">
        <p class="slider-number">03</p>
        <hr>
        <p class="slider-number">05</p>
      </div>
    </label>
        <label for="s4" id="slide4" class="slider" tabindex="0" aria-labelledby="slide4-title">
      <h3 class="slide-text" id="slide4-title"></h3>
      <img class="eachimg" src="" alt="">
      <div class="slide-number-container linear" aria-hidden="true">
        <p class="slider-number">04</p>
        <hr>
        <p class="slider-number">05</p>
      </div>
    </label>
        <label for="s5" id="slide5" class="slider" tabindex="0" aria-labelledby="slide5-title">
      <h3 class="slide-text" id="slide5-title"></h3>
      <img class="eachimg" src="" alt="">
      <div class="slide-number-container linear" aria-hidden="true">
        <p class="slider-number">05</p>
        <hr>
        <p class="slider-number">05</p>
      </div>
    </label>
        <ul id='slider-controls'>
            <li id='previous-button' title="Previous Slider"> <i class="fa-solid fa-backward-step" aria-hidden="true"></i>
                <span class="sr-only">Previous slides</span>
            </li>
            <li id='play' title="Play Slider"><i class="fa-solid fa-chevron-right" aria-hidden="true"></i>
                <span class="sr-only">Play</span>
            </li>
            <li id='pause' title="Pause Slider"><i class="fa fa-pause" aria-hidden="true"></i>
                <span class="sr-only">Pause</span>
            </li>
            <li id='next-button' title="Next Slide"><i class="fa-solid fa-forward-step" aria-hidden="true"></i>
                <span class="sr-only">Next slides</span>
            </li>
        </ul>
    </section>
</div>

<script>
    $(document).ready(function() {
        var counter = 1;
        var numberOfImages = $(".imgCheck").length;
        var interval;
        var isPaused = false; // To track whether the slider is paused

        // Function to start the interval for auto-sliding
        function startSlider() {
            interval = setInterval(function() {
                $("#s" + counter).prop("checked", true);
                counter++;
                if (counter > numberOfImages) {
                    counter = 1;
                }
            }, 4000);
        }

        function stopSlider() {
            clearInterval(interval);
        }
        // Start the slider initially
        startSlider(0);

        // Next button functionality
        $("#next-button").on("click", function(e) {
            e.preventDefault();
            stopSlider();
            counter++;
            if (counter > numberOfImages) {
                counter = 1;
            }
            $("#s" + counter).prop("checked", true);
            startSlider(); // Restart the slider only if not paused
        });

        // Previous button functionality
        $("#previous-button").on("click", function(e) {
            e.preventDefault();
            stopSlider();
            counter--;
            if (counter < 1) {
                counter = numberOfImages;
            }
            $("#s" + counter).prop("checked", true);
            startSlider(); // Restart the slider only if not paused
        });

        // Pause button functionality
        $('#pause').on('click', function() {
            stopSlider();
            isPaused = true; // Update pause state
            $(this).hide();
            $('#play').show();
        });

        // Play button functionality
        $('#play').on('click', function() {
            isPaused = false; // Update pause state
            startSlider();
            $(this).hide();
            $('#pause').show();
        });

        // Pause/play slider on keyup (spacebar)
        $(document).on("keyup", function(e) {
            if (e.key === " " || e.key === "Spacebar") {
                e.preventDefault();
                isPaused = !isPaused;
                if (isPaused) {
                    stopSlider();
                } else {
                    startSlider();
                }
            }
        });

        // Pause slider on mouseover and resume on mouseleave
        $("#slider").on("mouseover", function() {
            stopSlider();
        }).on("mouseleave", function() {
            if (!isPaused) {
                startSlider();
            }
        });
    });
</script>